<%
  var address = recognitionResults['com.solveforall.recognition.location.UsAddress'][0];
  if (!address) {
   throw 'No address found'; 
  }
%>

<!doctype html>
<html>
  <head>
    <title>Geocoder</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.2/spacelab/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div>
      <div>
        Coordinates for 
        <% if (address.streetAddress) { %><%= address.streetAddress %>, <% } %>
        <% if (address.city) { %><%= address.city %>, <% } %>
        <%= address.stateAbbreviation || '' %>
        <%= address.postalCode || '' %>:
      </div>      
      <div id="coordinates">
        <i>Loading ...</i>
      </div>
      <div>        
        <small>
          Data provided by 
          <a href="https://www.openstreetmap.org/" target="_top">OpenStreetMap</a> and          
          <a href="http://www.openstreetmap.org/copyright" target="_top">copyright</a> 
          OpenStreetMap contributors, ODbL 1.0. 
        </small>
      </div>
    </div>

    <div id="info_holder"
     data-settings="<%= JSON.stringify(context.settings) %>"
     data-address="<%= JSON.stringify(address) %>">
    </div>

    <script src="https://cdn.jsdelivr.net/g/jquery@1.11.2,underscorejs@1.7.0,underscore.string@2.4.0,bootstrap@3.3.2">
    </script>
        
    <script src="https://cdn.rawgit.com/jtsay362/solveforall-example-plugins/7f7fd4bbc8606a9c0cdc9bdf6d5210f650061e6c/src/answer_generators/openstreetmap_geocoder/openstreetmap_geocoder.js"></script>
  </body>
</html>
