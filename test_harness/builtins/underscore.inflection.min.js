(function() {

// Workaround CommonJS detection  
var module, exports;

!function(s,i){"function"==typeof define&&define.amd?define(["underscore"],i):"object"==typeof exports?module.exports=i(require("underscore")):i(s._)}(this,function(s,i){var e=[],t=[],r=[],u={gsub:function(s,i,e){var t=new RegExp(i.source||i,"gi");return t.test(s)?s.replace(t,e):null},plural:function(s,i){e.unshift([s,i])},pluralize:function(t,u,n){var l;if(u!==i)u=parseFloat(u),l=1===u?this.singularize(t):this.pluralize(t),l=n?[u,l].join(" "):l;else{if(s(r).include(t))return t;l=t,s(e).detect(function(s){var i=this.gsub(t,s[0],s[1]);return i?l=i:!1},this)}return l},singular:function(s,i){t.unshift([s,i])},singularize:function(i){if(s(r).include(i))return i;var e=i;return s(t).detect(function(s){var t=this.gsub(i,s[0],s[1]);return t?e=t:!1},this),e},irregular:function(s,i){this.plural("\\b"+s+"\\b",i),this.singular("\\b"+i+"\\b",s)},uncountable:function(s){r.unshift(s)},ordinalize:function(s){if(isNaN(s))return s;s=s.toString();var i=s.slice(-1),e=s.slice(-2);if("11"===e||"12"===e||"13"===e)return s+"th";switch(i){case"1":return s+"st";case"2":return s+"nd";case"3":return s+"rd";default:return s+"th"}},titleize:function(s){return"string"!=typeof s?s:s.replace(/\S+/g,function(s){return s.charAt(0).toUpperCase()+s.slice(1)})},resetInflections:function(){return e=[],t=[],r=[],this.plural(/$/,"s"),this.plural(/s$/,"s"),this.plural(/(ax|test)is$/,"$1es"),this.plural(/(octop|vir)us$/,"$1i"),this.plural(/(octop|vir)i$/,"$1i"),this.plural(/(alias|status)$/,"$1es"),this.plural(/(bu)s$/,"$1ses"),this.plural(/(buffal|tomat)o$/,"$1oes"),this.plural(/([ti])um$/,"$1a"),this.plural(/([ti])a$/,"$1a"),this.plural(/sis$/,"ses"),this.plural(/(?:([^f])fe|([lr])?f)$/,"$1$2ves"),this.plural(/(hive)$/,"$1s"),this.plural(/([^aeiouy]|qu)y$/,"$1ies"),this.plural(/(x|ch|ss|sh)$/,"$1es"),this.plural(/(matr|vert|ind)(?:ix|ex)$/,"$1ices"),this.plural(/([m|l])ouse$/,"$1ice"),this.plural(/([m|l])ice$/,"$1ice"),this.plural(/^(ox)$/,"$1en"),this.plural(/^(oxen)$/,"$1"),this.plural(/(quiz)$/,"$1zes"),this.singular(/s$/,""),this.singular(/(n)ews$/,"$1ews"),this.singular(/([ti])a$/,"$1um"),this.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/,"$1$2sis"),this.singular(/(^analy)ses$/,"$1sis"),this.singular(/([^f])ves$/,"$1fe"),this.singular(/(hive)s$/,"$1"),this.singular(/(tive)s$/,"$1"),this.singular(/([lr])ves$/,"$1f"),this.singular(/([^aeiouy]|qu)ies$/,"$1y"),this.singular(/(s)eries$/,"$1eries"),this.singular(/(m)ovies$/,"$1ovie"),this.singular(/(x|ch|ss|sh)es$/,"$1"),this.singular(/([m|l])ice$/,"$1ouse"),this.singular(/(bus)es$/,"$1"),this.singular(/(o)es$/,"$1"),this.singular(/(shoe)s$/,"$1"),this.singular(/(cris|ax|test)es$/,"$1is"),this.singular(/(octop|vir)i$/,"$1us"),this.singular(/(alias|status)es$/,"$1"),this.singular(/^(ox)en/,"$1"),this.singular(/(vert|ind)ices$/,"$1ex"),this.singular(/(matr)ices$/,"$1ix"),this.singular(/(quiz)zes$/,"$1"),this.singular(/(database)s$/,"$1"),this.irregular("person","people"),this.irregular("man","men"),this.irregular("child","children"),this.irregular("sex","sexes"),this.irregular("move","moves"),this.irregular("cow","kine"),this.uncountable("equipment"),this.uncountable("information"),this.uncountable("rice"),this.uncountable("money"),this.uncountable("species"),this.uncountable("series"),this.uncountable("fish"),this.uncountable("sheep"),this.uncountable("jeans"),this}};return s.mixin(u.resetInflections()),u});

})();